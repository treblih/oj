/*
 * =====================================================================================
 *
 *       Filename:  nq2.c
 *
 *    Description:  
 *
 *        Created:  13.10.10
 *       Revision:  
 *       Compiler:  GCC 4.4
 *
 *         Author:  Yang Zhang, treblih.divad@gmail.com
 *        Company:  
 *
 * =====================================================================================
 */

#include <stdio.h>

#ifdef DB
	#define getchar()		getc(fp)
	#define	scanf(...)		fscanf(fp, __VA_ARGS__)
	#define	ungetc(c, stdin)	ungetc(c, fp)
#endif
static FILE *fp;
static char tmp[16];
/* 4 - 14 */
static int mat[16] = {2, 10, 4, 40, 92, 352, 
		      724, 2680, 14200, 73712, 365596};
/*-----------------------------------------------------------------------------
 *  respective left-top quarter
 *-----------------------------------------------------------------------------*/
static int asterisk[11][64] = {
{0, 1, 
 1, 0, },

{2, 2, 2, 
 2, 2, 2, 
 2, 2, 2, },

{0, 1, 1, 
 1, 0, 1, 
 1, 1, 0, },

{4, 7, 6, 6, 
 7, 4, 6, 6, 
 6, 6, 6, 4, 
 6, 6, 4, 8, },

{4,   8, 16, 18, 
 8,  16, 14,  8, 
 16, 14,  4, 12, 
 18,  8, 12,  8, },

{28, 30, 47, 44, 54, 
 30, 32, 44, 48, 44, 
 47, 44, 28, 38, 38, 
 44, 48, 38, 36, 20, 
 54, 44, 38, 20, 40, },

{64, 48, 65, 93, 92, 
 48, 62, 91, 72, 89, 
 65, 91, 76, 61, 69, 
 93, 72, 61, 68, 68, 
 92, 89, 69, 68, 44, },

{96, 219, 209, 295, 346, 350, 
219, 220, 260, 251, 277, 226, 
209, 260, 250, 247, 239, 270, 
295, 251, 247, 238, 208, 202, 
346, 277, 239, 208, 178, 184, 
350, 226, 270, 202, 184, 216, },

{500, 806, 1165, 1359, 1631, 1639, 
806, 1072, 1273, 1275, 1354, 1320, 
1165, 1273, 1228, 1120, 1148, 1166, 
1359, 1275, 1120, 1102, 1117, 1127, 
1631, 1354, 1148, 1117, 910, 940, 
1639, 1320, 1166, 1127, 940, 908, },

{2760, 3799, 5508, 6023, 7346, 7385, 8070, 
3799, 4994, 5440, 6448, 6193, 6727, 6510, 
5508, 5440, 5984, 5657, 5711, 5706, 5700, 
6023, 6448, 5657, 5386, 5400, 5356, 5172, 
7346, 6193, 5711, 5400, 5026, 4871, 4618, 
7385, 6727, 5706, 5356, 4871, 4532, 4558, 
8070, 6510, 5700, 5172, 4618, 4558, 4456, },

{11892, 16488, 23024, 27494, 32163, 34760, 36977, 
16488, 21100, 25812, 27610, 30144, 30457, 31187, 
23024, 25812, 26074, 26810, 26827, 27181, 27070, 
27494, 27610, 26810, 25310, 25328, 25094, 25152, 
32163, 30144, 26827, 25328, 23176, 22659, 22501, 
34760, 30457, 27181, 25094, 22659, 21612, 21035, 
36977, 31187, 27070, 25152, 22501, 21035, 18876, }
};

int main(int argc, const char *argv[])
{
#ifdef DB
	fp = fopen("input", "r");
#endif
	int cases = 0, total, half, n;
	int row, row_rvs, col, col_rvs;
	while (scanf("%d", &n) != EOF && n) {
		half = n >> 1;
		for (total = 0, row = 0; row < n; ++row) {
			scanf("%s", tmp);
			for (col = 0; col < n; ++col) {
				/* obstacle */
				if (tmp[col] == '*') {
					if (n & 0x1) {
					/* (n-1), from size to index */
						row_rvs = row > half ? 
							  (n - 1) - row :
							  row;
						col_rvs = col > half ? 
							  (n - 1) - col :
							  col;
						total += asterisk[n - 4]
							 [row_rvs * (half + 1) + col_rvs];
					} else {
						row_rvs = row >= half ? 
							  (n - 1) - row :
							  row;
						col_rvs = col >= half ? 
							  (n - 1) - col :
							  col;
						total += asterisk[n - 4]
							 [row_rvs * half + col_rvs];
					}
				}
			}
		}
		if (mat[n - 4] - total > 0)
		printf("Case %d: %d\n", ++cases, mat[n - 4] - total);
		else
		printf("Case %d: 0\n", ++cases);
	}
	return 0;
}
